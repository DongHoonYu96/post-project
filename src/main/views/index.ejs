<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/main.css">
</head>

<body>

<nav class="navbar">
    <a href="/">HELLO. WEB!</a>
    <ul class="nav-item-box">
        <% if (typeof member !== 'undefined' && member !== null) { %>
            <li>
                <button onclick="location.href='/user/list'" class="button BoldS">
                    <p>멤버리스트</p>
                </button>
            </li>
            <li>
                <button onclick="location.href='/user/mypage'" class="button BoldS">
                    <p>마이페이지</p>
                </button>
            </li>
            <li>
                <button onclick="location.href='/user/logout'" class="button BoldS">
                    <p>로그아웃</p>
                </button>
            </li>
        <% } else { %>
            <li>
                <button onclick="location.href='/user/login/form'" class="button BoldS">
                    <p>로그인/회원가입</p>
                </button>
            </li>
        <% } %>
    </ul>
</nav>

<section class="hero-box">
    <p class="hero-subtitle">부스트캠프 백엔드 교육용 페이지
    <h1 class="hero-title">HELLO.
        <% if (typeof member !== 'undefined' && member !== null) { %>
            <%= member.nickname %>
        <% } else { %>
            GUEST
        <% } %>
        !</h1>
    </p>
</section>

<section class="board-box">
    <p class="board-count">전체글 <span><%=data.total%></span>개</p>
    <ul class="board-list">
        <li class="board-header">
            <div>
                <p class="board-header-title BordS">제목</p>
                <p class="board-header-author BordS">작성자</p>
                <p class="board-header-date BordS">작성일자</p>
                <p class="board-header-views BordS">조회수</p>
            </div>
        <li class="board-item">
            <% posts.forEach(function(post) { %>
                <a href="/post/<%= post.id %>" class="board-link">
                    <p class="board-item-title BordR"><%= post.title%></p>
                    <p class="board-item-author BordR"><%= post.member.nickname%></p>
                    <p class="board-item-date BordR"><%= post.createdAt.toLocaleString()%></p>
                    <p class="board-item-views BordR"><%= post.views%></p>
                </a>
            <% }); %>
        </li>
    </ul>

    <nav class="navbar">
        <% for (let i = 1; i <= data.total/10 + 1; i++) { %>
            <a href="/post?page=<%= i %>"><%= i %></a>
        <% } %>
        <ul class="nav-item-box">
        <li>
            <button onclick="location.href='/user/mypage'" class="button BoldS">
                <p>검색어를 입력하세요</p>
            </button>
        </li>
        <li>
            <button onclick="location.href='/post/form'" class="button BoldS">
                <p>글쓰기</p>
            </button>
        </li>
        </ul>
    </nav>
</body>

</html>